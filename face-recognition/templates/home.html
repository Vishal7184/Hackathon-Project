{% extends 'base.html' %}
{% block title %}
  Home
{% endblock title %}
{% block home %}
  active
{% endblock home %}
{% block body %}

    <script>
      function logout() {
          // Redirect to the 'logout' route
          window.location.href = "{{ url_for('logout') }}";
      }
  </script>
  {% with messages = get_flashed_messages() %}
    {% if messages %}
      {% for msg in messages %}
      <div class="alert alert-success alert-dismissible fade show" role="alert">
        {{msg}}
        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      {% endfor %}
    {% endif %}
  {% endwith %}
    

      <form method="POST">
        <div class="container my-3">
          <div class="row row-cols-1 row-cols-md-2">
            <div class="col mb-4">
              <!-- Card -->
              <div class="card">
          
                <!--Card image-->
                <div class="view overlay">
                  <img class="card-img-top" src="https://i.ibb.co/VLFstnM/upload-images.png"
                    alt="Card image cap">
                  <a href="#!">
                    <div class="mask rgba-white-slight"></div>
                  </a>
                </div>
          
                <!--Card content-->
                <div class="card-body">
          
                  <!--Title-->
                  <h4 class="card-title">Upload Images to mark attendance</h4>
                  <!--Text-->
                  <p class="card-text">Some quick example text to build on the card title and make up the bulk of the
                    card's content.</p>
                  <!-- Provides extra visual weight and identifies the primary action in a set of buttons -->
                  <button type="button" class="btn btn-light-blue btn-md" onclick="call('uploadImages')">View</button>
                </div>
          
              </div>
              <!-- Card -->
            </div>
            <div class="col mb-4">
              <!-- Card -->
              <div class="card">
          
                <!--Card image-->
                <div class="view overlay">
                  <img class="card-img-top" src="https://i.ibb.co/WsW2cFD/capture.png"
                    alt="Card image cap">
                  <a href="#!">
                    <div class="mask rgba-white-slight"></div>
                  </a>
                </div>
          
                <!--Card content-->
                <div class="card-body">
          
                  <!--Title-->
                  <h4 class="card-title">Start camera to mark Attendance</h4>
                  <!--Text-->
                  <p class="card-text">Some quick example text to build on the card title and make up the bulk of the
                    card's content.</p>
                  <!-- Provides extra visual weight and identifies the primary action in a set of buttons -->
                  <button type="button" class="btn btn-light-blue btn-md" onclick="call('markattendance')">View</button>
          
                </div>
          
              </div>
              <!-- Card -->
            </div>
            <div class="col mb-4">
              <!-- Card -->
              <div class="card">
          
                <!--Card image-->
                <div class="view overlay">
                  <img class="card-img-top" src="https://i.ibb.co/Scb8yG2/previous.png"
                    alt="Card image cap">
                  <a href="#!">
                    <div class="mask rgba-white-slight"></div>
                  </a>
                </div>
          
                <!--Card content-->
                <div class="card-body">
          
                  <!--Title-->
                  <h4 class="card-title">View Previous Attendance Records</h4>
                  <!--Text-->
                  <p class="card-text">Some quick example text to build on the card title and make up the bulk of the
                    card's content.</p>
                  <!-- Provides extra visual weight and identifies the primary action in a set of buttons -->
                  <button type="button" class="btn btn-light-blue btn-md" onclick="call('fetchAttendance')">View</button>
          
                </div>
          
              </div>
              <!-- Card -->
            </div>
            <div class="col mb-4">
              <!-- Card -->
              <div class="card">
          
                <!--Card image-->
                <div class="view overlay">
                  <img class="card-img-top" src="https://i.ibb.co/wcPHVHv/addNew.png"
                    alt="Card image cap">
                  <a href="#!">
                    <div class="mask rgba-white-slight"></div>
                  </a>
                </div>
          
                <!--Card content-->
                <div class="card-body">
          
                  <!--Title-->
                  <h4 class="card-title">Add new Student with images</h4>
                  <!--Text-->
                  <p class="card-text">Some quick example text to build on the card title and make up the bulk of the
                    card's content.</p>
                  <!-- Provides extra visual weight and identifies the primary action in a set of buttons -->
                  <button type="button" class="btn btn-light-blue btn-md" onclick="call('addstudent')">View</button>
          
                </div>
          
              </div>
              <!-- Card -->
            </div>
          </div>
      </form>
    
  
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
   

<script>
function call(page) {
    fetch(`/${page}`, { method: 'GET' })
    .then(response => {
        if (!response.ok) {
            throw new Error('Network response was not ok');
        }
        // Redirect to the response URL
        window.location.href = response.url;
    })
    .catch(error => {
        // Handle errors
        console.error('There was a problem with the fetch operation:', error);
    });
}
</script>

    {% endblock body %}